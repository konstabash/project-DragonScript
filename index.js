import{A as u,a as c,i as d}from"./assets/vendor-BiZpROl3.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))i(o);new MutationObserver(o=>{for(const s of o)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&i(a)}).observe(document,{childList:!0,subtree:!0});function n(o){const s={};return o.integrity&&(s.integrity=o.integrity),o.referrerPolicy&&(s.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?s.credentials="include":o.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function i(o){if(o.ep)return;o.ep=!0;const s=n(o);fetch(o.href,s)}})();document.addEventListener("DOMContentLoaded",()=>{new u(".accordion-container",{duration:400,showMultiple:!1})});const m="/project-DragonScript/assets/sprite-m-zCpB4N.svg#icon-error";c.defaults.baseURL="https://portfolio-js.b.goit.study/api";const t={userEmail:document.querySelector('[name="email"]'),userComment:document.querySelector('[name="comment"]'),form:document.querySelector(".footer-form"),crossBtn:document.querySelector(".modal-close-btn"),modal:document.querySelector(".backdrop"),isValidMessage:document.querySelector(".form-error-message")},g=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/,f={position:"topRight",message:"An error occurred while processing your request. Please try again.",messageColor:"#fafafb",messageSize:"16px",backgroundColor:"#ed3b44",iconUrl:m};t.form.addEventListener("submit",y);t.userEmail.addEventListener("blur",v);t.userComment.addEventListener("blur",E);t.modal.addEventListener("click",L);t.crossBtn.addEventListener("click",l);t.userEmail.addEventListener("input",e=>{e.currentTarget.style.borderBottomColor="rgba(250, 250, 250, 0.5)",t.isValidMessage.textContent=""});t.userComment.addEventListener("input",e=>e.currentTarget.style.borderBottomColor="rgba(250, 250, 250, 0.5)");document.addEventListener("keydown",e=>{e.code==="Escape"&&(t.modal.classList.remove("is-open"),document.body.style.overflow="")});async function y(e){if(e.preventDefault(),t.userEmail.dataset.state==="error")return;t.isValidMessage.textContent="",t.userEmail.style.borderBottomColor="rgba(250, 250, 250, 0.2)",t.userComment.style.borderBottomColor="rgba(250, 250, 250, 0.2)";const r=e.currentTarget.elements,n={email:r[0].value.trim(),comment:r[1].value.trim()};if(n.comment!=="")try{await p(n),e.target.reset(),l(),document.body.style.overflow="hidden"}catch{d.error(f);return}}async function p(e){const{data:r}=await c.post("/requests",e);return r}function b(e){const r="#e74a3b";t.isValidMessage.textContent="Invalid email, try again",t.isValidMessage.style.color=r,e.currentTarget.style.borderBottomColor=r,t.isValidMessage.style.marginTop="4px"}function C(e){const r="#3cbc81";t.isValidMessage.textContent="Success!",t.isValidMessage.style.color=r,e.currentTarget.style.borderBottomColor=r,t.isValidMessage.style.marginTop="4px"}function v(e){const r=e.currentTarget.value.trim();if(r===""){t.isValidMessage.textContent="",e.currentTarget.style.borderBottomColor="rgba(250, 250, 250, 0.2)";return}g.test(r)?(C(e),e.currentTarget.dataset.state="success"):(b(e),e.currentTarget.dataset.state="error")}function E(e){if(e.currentTarget.value.trim()===""){e.currentTarget.style.borderBottomColor="rgba(250, 250, 250, 0.2)";return}}function l(){t.modal.classList.toggle("is-open"),document.body.style.overflow=""}function L(e){e.currentTarget===e.target&&(t.modal.classList.remove("is-open"),document.body.style.overflow="")}
//# sourceMappingURL=index.js.map
