import{A as u,a,i as c,S as m}from"./assets/vendor-Br-N_5WZ.js";(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))l(o);new MutationObserver(o=>{for(const n of o)if(n.type==="childList")for(const i of n.addedNodes)i.tagName==="LINK"&&i.rel==="modulepreload"&&l(i)}).observe(document,{childList:!0,subtree:!0});function s(o){const n={};return o.integrity&&(n.integrity=o.integrity),o.referrerPolicy&&(n.referrerPolicy=o.referrerPolicy),o.crossOrigin==="use-credentials"?n.credentials="include":o.crossOrigin==="anonymous"?n.credentials="omit":n.credentials="same-origin",n}function l(o){if(o.ep)return;o.ep=!0;const n=s(o);fetch(o.href,n)}})();document.addEventListener("DOMContentLoaded",()=>{new u(".accordion-container",{duration:400,showMultiple:!1})});async function f(){try{const{data:e}=await a.get("https://portfolio-js.b.goit.study/api/reviews");return e}catch{return c.error({title:"Error",message:"Failed to load reviews. Please try again later.",position:"topRight",timeout:3e3}),[]}}function g(e){const t=document.querySelector(".swiper-wrapper");if(e.length===0){t.innerHTML='<div class="not-found-container"><p class="not-found">Not found</p></div>';return}t.innerHTML=e.map(s=>`
      <li class="swiper-slide">
        <div class="review-card">
          <img src="${s.avatar_url}" alt="${s.author}" class="review-avatar">
          <h3 class="swiper-title">${s.author}</h3>
          <p class="swiper-text">${s.review}</p>
        </div>
      </li>
    `).join("")}function p(){const e=document.querySelector(".previous-arrow-btn"),t=document.querySelector(".next-arrow-btn"),s=new m(".swiper",{direction:"horizontal",loop:!1,spaceBetween:16,speed:2e3,navigation:{nextEl:".next-arrow-btn",prevEl:".previous-arrow-btn",disabledClass:"disabled"},keyboard:{enabled:!0,onlyInViewport:!0},breakpoints:{768:{slidesPerView:2},1440:{slidesPerView:4}}});e.classList.add("disabled"),s.on("slideChange",()=>{s.isBeginning?e.classList.add("disabled"):e.classList.remove("disabled"),s.isEnd?t.classList.add("disabled"):t.classList.remove("disabled")})}async function y(){const e=await f();g(e),p()}document.addEventListener("DOMContentLoaded",y);const b="/project-DragonScript/assets/sprite-8HsAK24S.svg#icon-error";a.defaults.baseURL="https://portfolio-js.b.goit.study/api";const r={userEmail:document.querySelector('[name="email"]'),userComment:document.querySelector('[name="comment"]'),form:document.querySelector(".footer-form"),crossBtn:document.querySelector(".modal-close-btn"),modal:document.querySelector(".backdrop"),isValidMessage:document.querySelector(".form-error-message")},v=/^\w+(\.\w+)?@[a-zA-Z_]+?\.[a-zA-Z]{2,3}$/,w={position:"topRight",message:"An error occurred while processing your request. Please try again.",messageColor:"#fafafb",messageSize:"16px",backgroundColor:"#ed3b44",iconUrl:b};r.form.addEventListener("submit",C);r.userEmail.addEventListener("blur",M);r.userComment.addEventListener("blur",S);r.modal.addEventListener("click",T);r.crossBtn.addEventListener("click",d);r.userEmail.addEventListener("input",e=>{e.currentTarget.style.borderBottomColor="rgba(250, 250, 250, 0.5)",r.isValidMessage.textContent=""});r.userComment.addEventListener("input",e=>e.currentTarget.style.borderBottomColor="rgba(250, 250, 250, 0.5)");document.addEventListener("keydown",e=>{e.code==="Escape"&&(r.modal.classList.remove("is-open"),document.body.style.overflow="")});async function C(e){if(e.preventDefault(),r.userEmail.dataset.state==="error")return;r.isValidMessage.textContent="",r.userEmail.style.borderBottomColor="rgba(250, 250, 250, 0.2)",r.userComment.style.borderBottomColor="rgba(250, 250, 250, 0.2)";const t=e.currentTarget.elements,s={email:t[0].value.trim(),comment:t[1].value.trim()};if(s.comment!=="")try{await L(s),e.target.reset(),d(),document.body.style.overflow="hidden"}catch{c.error(w);return}}async function L(e){const{data:t}=await a.post("/requests",e);return t}function h(e){const t="#e74a3b";r.isValidMessage.textContent="Invalid email, try again",r.isValidMessage.style.color=t,e.currentTarget.style.borderBottomColor=t,r.isValidMessage.style.marginTop="4px"}function E(e){const t="#3cbc81";r.isValidMessage.textContent="Success!",r.isValidMessage.style.color=t,e.currentTarget.style.borderBottomColor=t,r.isValidMessage.style.marginTop="4px"}function M(e){const t=e.currentTarget.value.trim();if(t===""){r.isValidMessage.textContent="",e.currentTarget.style.borderBottomColor="rgba(250, 250, 250, 0.2)";return}v.test(t)?(E(e),e.currentTarget.dataset.state="success"):(h(e),e.currentTarget.dataset.state="error")}function S(e){if(e.currentTarget.value.trim()===""){e.currentTarget.style.borderBottomColor="rgba(250, 250, 250, 0.2)";return}}function d(){r.modal.classList.toggle("is-open"),document.body.style.overflow=""}function T(e){e.currentTarget===e.target&&(r.modal.classList.remove("is-open"),document.body.style.overflow="")}
//# sourceMappingURL=index.js.map
